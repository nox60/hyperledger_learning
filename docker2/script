
peer channel create -o orderer.dams.com:7050 \
-c mychannel \
-f /opt/channel-artifacts/channel.tx \
--tls true --cafile \
/opt/crypto/ordererOrganizations/dams.com/msp/tlscacerts/tlsca.dams.com-cert.pem

export CORE_PEER_LOCALMSPID=cecMSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/cec.dams.com/users/Admin@cec.dams.com/msp
export CORE_PEER_ADDRESS=peer0.cec.dams.com:7051
peer channel join -b mychannel.block

export CORE_PEER_LOCALMSPID=ia3MSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/ia3.dams.com/peers/peer0.ia3.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/ia3.dams.com/users/Admin@ia3.dams.com/msp
export CORE_PEER_ADDRESS=peer0.ia3.dams.com:7151
peer channel join -b mychannel.block

export CORE_PEER_LOCALMSPID=ic3MSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/ic3.dams.com/peers/peer0.ic3.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/ic3.dams.com/users/Admin@ic3.dams.com/msp
export CORE_PEER_ADDRESS=peer0.ic3.dams.com:7251
peer channel join -b mychannel.block

export CORE_PEER_LOCALMSPID=govMSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/gov.dams.com/peers/peer0.gov.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/gov.dams.com/users/Admin@gov.dams.com/msp
export CORE_PEER_ADDRESS=peer0.gov.dams.com:7351
peer channel join -b mychannel.block

#======

export CORE_PEER_LOCALMSPID=cecMSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/cec.dams.com/users/Admin@cec.dams.com/msp
export CORE_PEER_ADDRESS=peer0.cec.dams.com:7051
peer channel update \
-o orderer.dams.com:7050 \
-c mychannel \
-f /opt/channel-artifacts/cecMSPanchors.tx \
--tls true \
--cafile /opt/crypto/ordererOrganizations/dams.com/orderers/orderer.dams.com/msp/tlscacerts/tlsca.dams.com-cert.pem

#ia3
export CORE_PEER_LOCALMSPID=ia3MSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/ia3.dams.com/peers/peer0.ia3.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/ia3.dams.com/users/Admin@ia3.dams.com/msp
export CORE_PEER_ADDRESS=peer0.ia3.dams.com:7151
peer channel list

#ic3
export CORE_PEER_LOCALMSPID=ic3MSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/ic3.dams.com/peers/peer0.ic3.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/ic3.dams.com/users/Admin@ic3.dams.com/msp
export CORE_PEER_ADDRESS=peer0.ic3.dams.com:7251
peer channel list

export CORE_PEER_LOCALMSPID=cecMSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/cec.dams.com/users/Admin@cec.dams.com/msp
export CORE_PEER_ADDRESS=peer0.cec.dams.com:7051
peer chaincode install \
-n authority \
-v 1.0 \
-l golang \
-p authority

peer chaincode instantiate -o orderer.dams.com:7050 \
--tls true --cafile /opt/crypto/ordererOrganizations/dams.com/orderers/orderer.dams.com/msp/tlscacerts/tlsca.dams.com-cert.pem \
-C mychannel \
-n authority \
-l golang \
-v 1.0 \
-c '{"Args":["init","a","100","b","200"]}' -P 'AND ('\''cecMSP.peer'\'','\''ia3MSP.peer'\'')'

# view installed chain codes of cec peer0
export CORE_PEER_LOCALMSPID=cecMSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/cec.dams.com/users/Admin@cec.dams.com/msp
export CORE_PEER_ADDRESS=peer0.cec.dams.com:7051
peer chaincode list \
-C mychannel \
--installed

# view instantiated chain codes of cec peer0
export CORE_PEER_LOCALMSPID=cecMSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/cec.dams.com/users/Admin@cec.dams.com/msp
export CORE_PEER_ADDRESS=peer0.cec.dams.com:7051
peer chaincode list \
-C mychannel \
--instantiated


# view installed chain codes of cec peer0
export CORE_PEER_LOCALMSPID=cecMSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/ca.crt
export CORE_PEER_TLS_CERT_FILE=/opt/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/server.crt
export CORE_PEER_TLS_KEY_FILE=/opt/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/server.key
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/cec.dams.com/users/Admin@cec.dams.com/msp
export CORE_PEER_ADDRESS=peer0.cec.dams.com:7051
peer chaincode list \
-C mychannel \
--installed

# view installed chain codes
export CORE_PEER_LOCALMSPID=ia3MSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/ia3.dams.com/peers/peer0.ia3.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/ia3.dams.com/users/Admin@ia3.dams.com/msp
export CORE_PEER_ADDRESS=peer0.ia3.dams.com:7151
peer chaincode list \
-C mychannel \
--installed



Sending invoke transaction on peer0.cec peer0.ia3...
+ peer chaincode invoke -o orderer.dams.com:7050 --tls true 
--cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/dams.com/orderers/orderer.dams.com/msp/tlscacerts/tlsca.dams.com-cert.pem 
-C mychannel -n mycc 
--peerAddresses peer0.cec.dams.com:7051 
--tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/ca.crt 
--peerAddresses peer0.ia3.dams.com:9051 
--tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/ia3.dams.com/peers/peer0.ia3.dams.com/tls/ca.crt 
-c '{"Args":["invoke","a","b","10"]}'


#-----
export CORE_PEER_LOCALMSPID=cecMSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/cec.dams.com/users/Admin@cec.dams.com/msp
export CORE_PEER_ADDRESS=peer0.cec.dams.com:7051
peer chaincode invoke -C mychannel \
-n authority \
-c '{"Args":["add","add","b","10"]}'






#-----
export CORE_PEER_LOCALMSPID=cecMSP
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/crypto/peerOrganizations/cec.dams.com/users/Admin@cec.dams.com/msp
export CORE_PEER_ADDRESS=peer0.cec.dams.com:7051
peer chaincode query -C mychannel \
-n authority \
-c '{"Args":["query","b"]}'

+ res=0
+ set +x
2019-09-04 06:03:14.314 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2019-09-04 06:03:14.332 UTC [channelCmd] executeJoin -> INFO 002 Successfully submitted proposal to join channel
===================== peer0.cec joined channel 'mychannel' =====================

+ peer channel join -b mychannel.block
+ res=0
+ set +x
2019-09-04 06:03:17.379 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2019-09-04 06:03:17.396 UTC [channelCmd] executeJoin -> INFO 002 Successfully submitted proposal to join channel
===================== peer0.cec joined channel 'mychannel' =====================

+ peer channel join -b mychannel.block
+ res=0
+ set +x
2019-09-04 06:03:20.444 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2019-09-04 06:03:20.460 UTC [channelCmd] executeJoin -> INFO 002 Successfully submitted proposal to join channel
===================== peer0.ia3 joined channel 'mychannel' =====================

+ peer channel join -b mychannel.block
+ res=0
+ set +x
2019-09-04 06:03:23.512 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2019-09-04 06:03:23.531 UTC [channelCmd] executeJoin -> INFO 002 Successfully submitted proposal to join channel
===================== peer0.ia3 joined channel 'mychannel' =====================

Updating anchor peers for cec...
+ peer channel update -o orderer.dams.com:7050 -c mychannel -f ./channel-artifacts/cecMSPanchors.tx --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/dams.com/orderers/orderer.dams.com/msp/tlscacerts/tlsca.dams.com-cert.pem
+ res=0
+ set +x
2019-09-04 06:03:26.575 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2019-09-04 06:03:26.586 UTC [channelCmd] update -> INFO 002 Successfully submitted channel update
===================== Anchor peers updated for org 'cecMSP' on channel 'mychannel' =====================

Updating anchor peers for ia3...
+ peer channel update -o orderer.dams.com:7050 -c mychannel -f ./channel-artifacts/ia3MSPanchors.tx --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/dams.com/orderers/orderer.dams.com/msp/tlscacerts/tlsca.dams.com-cert.pem
+ res=0
+ set +x
2019-09-04 06:03:29.639 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2019-09-04 06:03:29.648 UTC [channelCmd] update -> INFO 002 Successfully submitted channel update
===================== Anchor peers updated for org 'ia3MSP' on channel 'mychannel' =====================

Installing chaincode on peer0.cec...
+ 
peer chaincode install -n mycc -v 1.0 -l golang -p github.com/chaincode/chaincode_dams02/go/
+ res=0
+ set +x
2019-09-04 06:03:32.701 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2019-09-04 06:03:32.701 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
2019-09-04 06:03:32.854 UTC [chaincodeCmd] install -> INFO 003 Installed remotely response:<status:200 payload:"OK" >
===================== Chaincode is installed on peer0.cec =====================

Install chaincode on peer0.ia3...
+ peer chaincode install -n mycc -v 1.0 -l golang -p github.com/chaincode/chaincode_dams02/go/
+ res=0
+ set +x
2019-09-04 06:03:32.902 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2019-09-04 06:03:32.902 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
2019-09-04 06:03:33.039 UTC [chaincodeCmd] install -> INFO 003 Installed remotely response:<status:200 payload:"OK" >
===================== Chaincode is installed on peer0.ia3 =====================

Instantiating chaincode on peer0.ia3...
+ peer chaincode instantiate -o orderer.dams.com:7050 --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/dams.com/orderers/orderer.dams.com/msp/tlscacerts/tlsca.dams.com-cert.pem -C mychannel -n mycc -l golang -v 1.0 -c '{"Args":["init","a","100","b","200"]}' -P 'AND ('\''cecMSP.peer'\'','\''ia3MSP.peer'\'')'
+ res=0
+ set +x
2019-09-04 06:03:33.091 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2019-09-04 06:03:33.091 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
===================== Chaincode is instantiated on peer0.ia3 on channel 'mychannel' =====================

Querying chaincode on peer0.cec...
===================== Querying on peer0.cec on channel 'mychannel'... =====================
Attempting to Query peer0.cec ...3 secs
+ peer chaincode query -C mychannel -n mycc -c '{"Args":["query","a"]}'
+ res=0
+ set +x

100
===================== Query successful on peer0.cec on channel 'mychannel' =====================
Sending invoke transaction on peer0.cec peer0.ia3...
+ peer chaincode invoke -o orderer.dams.com:7050 --tls true 
--cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/dams.com/orderers/orderer.dams.com/msp/tlscacerts/tlsca.dams.com-cert.pem 
-C mychannel -n mycc 
--peerAddresses peer0.cec.dams.com:7051 
--tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/cec.dams.com/peers/peer0.cec.dams.com/tls/ca.crt 
--peerAddresses peer0.ia3.dams.com:9051 
--tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/ia3.dams.com/peers/peer0.ia3.dams.com/tls/ca.crt 
-c '{"Args":["invoke","a","b","10"]}'
2019-09-04 06:04:00.550 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 001 Chaincode invoke successful. result: status:200
+ res=0
+ set +x
===================== Invoke transaction successful on peer0.cec peer0.ia3 on channel 'mychannel' =====================

Installing chaincode on peer0.ia3...
+ peer chaincode install -n mycc -v 1.0 -l golang -p github.com/chaincode/chaincode_dams02/go/
+ res=0
+ set +x
2019-09-04 06:04:00.600 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2019-09-04 06:04:00.600 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
2019-09-04 06:04:00.755 UTC [chaincodeCmd] install -> INFO 003 Installed remotely response:<status:200 payload:"OK" >
===================== Chaincode is installed on peer0.ia3 =====================

Querying chaincode on peer0.ia3...
===================== Querying on peer0.ia3 on channel 'mychannel'... =====================
Attempting to Query peer0.ia3 ...3 secs
+ peer chaincode query -C mychannel -n mycc -c '{"Args":["query","a"]}'
+ res=0
+ set +x

90
===================== Query successful on peer0.ia3 on channel 'mychannel' =====================

========= All GOOD, BYFN execution completed ===========

